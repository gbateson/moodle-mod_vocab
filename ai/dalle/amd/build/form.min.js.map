{"version":3,"file":"form.min.js","sources":["../src/form.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * mod/vocab/ai/chatgpt/amd/src/form.js\n *\n * @module     vocabai_chatgpt\n * @copyright  2023 Gordon Bateson (gordon.bateson@gmail.com)\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      Moodle 3.11\n */\n\ndefine([], function(){\n\n    let JS = {};\n\n    JS.add_event_listener = function(obj, evt, fn, useCapture) {\n        if (obj.addEventListener) {\n            obj.addEventListener(evt, fn, (useCapture || false));\n        } else if (obj.attachEvent) {\n            obj.attachEvent('on' + evt, fn);\n        }\n    };\n\n    /*\n     * initialize this AMD module\n     */\n    JS.init = function() {\n        const elm = document.getElementById('id_chatgptfile');\n        if (elm) {\n            // Add event listener that adjusts width to accommodate content.\n            JS.add_event_listener(elm, 'input', function(){\n                this.style.width = 'auto'; // '1px' also works\n                this.style.width = (this.scrollWidth + 6) + 'px';\n            });\n            elm.dispatchEvent(new Event('input'));\n        }\n    };\n\n    return JS;\n});"],"names":["define","JS","obj","evt","fn","useCapture","addEventListener","attachEvent","elm","document","getElementById","add_event_listener","this","style","width","scrollWidth","dispatchEvent","Event"],"mappings":";;;;;;;;AAwBAA,8BAAO,IAAI,WAEP,IAAIC,GAAK,CAETA,mBAAwB,SAASC,IAAKC,IAAKC,GAAIC,YACvCH,IAAII,iBACJJ,IAAII,iBAAiBH,IAAKC,GAAKC,aAAc,GACtCH,IAAIK,aACXL,IAAIK,YAAY,KAAOJ,IAAKC,KAOpCH,KAAU,WACN,MAAMO,IAAMC,SAASC,eAAe,kBAChCF,MAEAP,GAAGU,mBAAmBH,IAAK,SAAS,WAChCI,KAAKC,MAAMC,MAAQ,OACnBF,KAAKC,MAAMC,MAASF,KAAKG,YAAc,EAAK,QAEhDP,IAAIQ,cAAc,IAAIC,MAAM,aAIpC,OAAOhB,EACX"}