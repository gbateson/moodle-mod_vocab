/**
 * mod/vocab/ai/files/amd/src/form.js
 *
 * @module     vocabai_files
 * @copyright  2023 Gordon Bateson (gordon.bateson@gmail.com)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since      Moodle 3.11
 */
define("vocabai_files/form",[],(function(){let JS={add_event_listener:function(obj,evt,fn,useCapture){obj.addEventListener?obj.addEventListener(evt,fn,useCapture||!1):obj.attachEvent&&obj.attachEvent("on"+evt,fn)},init:function(){JS.fix_inputtext_width(["id_filedescription","id_exportfileelements_exportfile"])},is_collapsed:function(elm){const fieldset=elm.closest("fieldset.collapsible");return fieldset&&fieldset.matches(".collapsed")},guess_and_set_size:function(elm,size){const tmp=Object.assign(document.createElement(elm.tagName),{type:elm.type||"",value:elm.value||"",className:elm.className||"",style:"visibility: hidden;"});switch(document.body.appendChild(tmp),size){case"width":tmp.style.width="auto",elm.style.width=tmp.scrollWidth+6+"px";break;case"height":tmp.style.height="auto",elm.style.height=tmp.scrollHeight+6+"px"}tmp.remove()},fix_inputtext_width:function(ids){"string"==typeof ids&&(ids=ids.split(",").map((id=>id.trim()))),ids.forEach((function(id){const inputtext=document.getElementById(id);inputtext&&inputtext.matches('input[type="text"]')&&(JS.add_event_listener(inputtext,"input",(function(){this.style.width="auto",this.style.width=this.scrollWidth+6+"px"})),JS.is_collapsed(inputtext)?JS.guess_and_set_size(inputtext,"width"):inputtext.dispatchEvent(new Event("input")))}))},fix_textarea_height:function(ids){"string"==typeof ids&&(ids=ids.split(",").map((id=>id.trim()))),ids.forEach((function(id){const textarea=document.getElementById(id);textarea&&textarea.matches("textarea")&&(JS.add_event_listener(textarea,"input",(function(){this.style.height="auto",this.style.height=this.scrollHeight+6+"px"})),JS.is_collapsed(textarea)?JS.guess_and_set_size(textarea,"height"):textarea.dispatchEvent(new Event("input")))}))}};return JS}));

//# sourceMappingURL=form.min.js.map